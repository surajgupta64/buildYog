"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[1324],{30161:function(e,t,n){n.r(t);var r=n(70885),a=n(78983),c=n(74569),i=n.n(c),s=n(72791),o=n(16856),l=n(80184),u="https://yoga-power-node-api.herokuapp.com";t.default=function(){var e=(0,s.useState)(!1),t=(0,r.Z)(e,2),n=t[0],c=t[1],h=(0,s.useState)(""),d=(0,r.Z)(h,2),m=d[0],f=d[1],j=(0,s.useState)(""),p=(0,r.Z)(j,2),v=p[0],x=p[1],b=(0,s.useState)(""),g=(0,r.Z)(b,2),N=g[0],y=g[1],S=(0,s.useState)(""),_=(0,r.Z)(S,2),C=_[0],B=_[1],k=(0,s.useState)(""),O=(0,r.Z)(k,2),w=O[0],z=O[1],A=JSON.parse(localStorage.getItem("user-info"));console.log(A);var E=A.token,T=A.user.username,Z=(0,s.useState)([]),D=(0,r.Z)(Z,2),P=D[0],I=D[1],J=(0,s.useState)([]),L=(0,r.Z)(J,2),V=(L[0],L[1]),W=(0,s.useState)([]),X=(0,r.Z)(W,2),F=X[0],H=X[1];function M(){i().get("".concat(u,"/Batch/all"),{headers:{Authorization:"Bearer ".concat(E)}}).then((function(e){I(e.data)})).catch((function(e){console.error(e)}))}(0,s.useEffect)((function(){M(),i().get("".concat(u,"/service/all"),{headers:{Authorization:"Bearer ".concat(E)}}).then((function(e){console.log(e.data),V(e.data)})).catch((function(e){console.error(e)})),i().get("".concat(u,"/subservice/all"),{headers:{Authorization:"Bearer ".concat(E)}}).then((function(e){H(e.data)})).catch((function(e){console.error(e)}))}),[]);return(0,l.jsxs)(a.xH,{className:"mb-3 border-success",children:[(0,l.jsx)(a.bn,{style:{backgroundColor:"#0B5345",color:"white"},children:(0,l.jsx)(a.tj,{children:"Batch Master"})}),(0,l.jsxs)(a.sl,{children:[(0,l.jsxs)(a.lx,{className:"mb-2",children:[(0,l.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,l.jsx)("div",{}),(0,l.jsx)("div",{children:(0,l.jsx)(a.rb,{children:(0,l.jsx)(a.b7,{children:(0,l.jsx)(a.u5,{className:"ms-1 mt-2",onClick:function(){return c(!n)},children:n?"close":"Add New Batch"})})})})]}),n&&(0,l.jsx)("div",{children:(0,l.jsxs)(a.rb,{className:"mt-3",children:[(0,l.jsx)(a.b7,{lg:4,md:6,sm:12,children:(0,l.jsxs)(a.LX,{className:"mb-1","aria-label":"Select Service",label:"Service",value:v,onChange:function(e){return x(e.target.value)},children:[(0,l.jsx)("option",{children:"Select"}),(0,l.jsx)("option",{children:"None"}),F.map((function(e,t){return e.username===T&&!0===e.status&&(0,l.jsxs)("option",{children:[e.selected_service," ",e.sub_Service_Name]},t)}))]})}),(0,l.jsx)(a.b7,{lg:4,md:6,sm:12,children:(0,l.jsx)(a.jO,{className:"mb-1",type:"time",id:"exampleFormControlInput1",label:"Batch Timing ",value:C,onChange:function(e){return B(e.target.value)},placeholder:"Enter Batch Timing"})}),(0,l.jsx)(a.b7,{lg:4,md:6,sm:12,children:(0,l.jsx)(a.LX,{className:"mb-1","aria-label":"Select Service",label:"Batch Duration",value:N,onChange:function(e){return y(e.target.value)},options:["Select Duration",{label:"30 min",value:"30 min"},{label:"1 hr",value:"1 hr"},{label:"1 hr 30 min",value:"1 hr 30 min"},{label:"2 hr",value:"2 hr"},{label:"2 hr 30 min",value:"2 hr 30 min"},{label:"3 hr",value:"3 hr"},{label:"3 hr 30 min",value:"3 hr 30 min"}]})}),(0,l.jsxs)(a.b7,{lg:6,md:6,sm:12,children:[(0,l.jsx)(a.kV,{size:"xl",className:"mt-2",value:w,onChange:function(){return z(!w)},label:"Status",style:{defaultChecked:"false"}}),(0,l.jsx)(a.u5,{className:"mt-2",onClick:function(){var e={username:T,service_name:m,service_variation:v,Batch_Duration:N,batch_timing:C,status:w};fetch("".concat(u,"/Batch/create"),{method:"POST",headers:{Authorization:"Bearer ".concat(E),Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){e.json().then((function(){alert("successfully submitted"),f(""),x(""),y(""),B(""),z(!1),M()}))}))},children:"Save"})]})]})})]}),(0,l.jsxs)(a.Sx,{className:"mt-3",align:"middle",bordered:!0,style:{borderColor:"#0B5345"},hover:!0,responsive:!0,children:[(0,l.jsx)(a.V,{style:{backgroundColor:"#0B5345",color:"white"},children:(0,l.jsxs)(a.T6,{children:[(0,l.jsx)(a.is,{children:"Sr.No"}),(0,l.jsx)(a.is,{children:"Service Name"}),(0,l.jsx)(a.is,{children:"Batch Duration"}),(0,l.jsx)(a.is,{children:"Batch Timing"}),(0,l.jsx)(a.is,{children:"Status"}),(0,l.jsx)(a.is,{children:"Action"})]})}),(0,l.jsx)(a.NR,{children:P.map((function(e,t){return e.username===T&&(0,l.jsxs)(a.T6,{children:[(0,l.jsx)(a.NN,{children:t+1}),(0,l.jsx)(a.NN,{children:e.service_variation}),(0,l.jsx)(a.NN,{children:e.Batch_Duration}),(0,l.jsx)(a.NN,{children:e.batch_timing}),(0,l.jsx)(a.NN,{children:(0,l.jsx)(a.kV,{size:"xl",style:{cursor:"pointer"},id:e._id,value:e.status,checked:e.status,onChange:function(){return function(e,t){var n={status:t};fetch("".concat(u,"/Batch/update/").concat(e),{method:"POST",headers:{Authorization:"Bearer ".concat(E),Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){e.json().then((function(e){M()}))}))}(e._id,!e.status)}})}),(0,l.jsxs)(a.NN,{children:[" ",(0,l.jsx)(o.ZkW,{style:{cursor:"pointer",markerStart:"10px"},onClick:function(){return t=e._id,void fetch("".concat(u,"/Batch/delete/").concat(t),{method:"DELETE",headers:{Authorization:"Bearer ".concat(E),Accept:"application/json","Content-Type":"application/json"}}).then((function(e){e.json().then((function(e){M()}))}));var t},size:"20px"})," "]})]},t)}))})]})]})]})}},89983:function(e,t,n){n.d(t,{w_:function(){return l}});var r=n(72791),a={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},c=r.createContext&&r.createContext(a),i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},i.apply(this,arguments)},s=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function o(e){return e&&e.map((function(e,t){return r.createElement(e.tag,i({key:t},e.attr),o(e.child))}))}function l(e){return function(t){return r.createElement(u,i({attr:i({},e.attr)},t),o(e.child))}}function u(e){var t=function(t){var n,a=e.attr,c=e.size,o=e.title,l=s(e,["attr","size","title"]),u=c||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),r.createElement("svg",i({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,a,l,{className:n,style:i(i({color:e.color||t.color},t.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&r.createElement("title",null,o),e.children)};return void 0!==c?r.createElement(c.Consumer,null,(function(e){return t(e)})):t(a)}}}]);
//# sourceMappingURL=1324.91b22455.chunk.js.map