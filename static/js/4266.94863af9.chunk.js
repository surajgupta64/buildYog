"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[4266],{89580:function(e,t,n){n.r(t);var r=n(70885),c=n(53217),i=n(79041),s=n(90710),l=n(24846),a=n(78983),o=n(74569),u=n.n(o),d=n(72791),h=n(16856),f=n(72426),x=n.n(f),j=n(80184),m="https://yoga-power-node-api.herokuapp.com";t.default=function(){var e=(0,d.useState)(0),t=(0,r.Z)(e,2),n=t[0],o=t[1],f=(0,d.useState)(""),p=(0,r.Z)(f,2),y=p[0],b=p[1],N=(0,d.useState)(""),g=(0,r.Z)(N,2),v=g[0],C=g[1],k=(0,d.useState)(""),S=(0,r.Z)(k,2),I=S[0],O=S[1],A=(0,d.useState)(""),D=(0,r.Z)(A,2),_=D[0],w=D[1],Z=(0,d.useState)(""),z=(0,r.Z)(Z,2),E=z[0],T=z[1],B=(0,d.useState)(null),P=(0,r.Z)(B,2),F=P[0],H=P[1],L=JSON.parse(localStorage.getItem("user-info")),J=L.token,M=L.user.username,V=(0,d.useState)([]),q=(0,r.Z)(V,2),W=q[0],R=q[1],Y=(0,d.useState)([]),$=(0,r.Z)(Y,2),G=$[0],K=$[1];function Q(){u().get("".concat(m,"/staffAttendance/all"),{headers:{Authorization:"Bearer ".concat(J)}}).then((function(e){R(e.data),console.log(e.data)})).catch((function(e){console.error(e)}))}(0,d.useEffect)((function(){Q(),u().get("".concat(m,"/employeeForm/all"),{headers:{Authorization:"Bearer ".concat(J)}}).then((function(e){K(e.data)})).catch((function(e){console.error(e)}))}),[]);var U=function(e){var t={checkOut:(new Date).toLocaleTimeString()};fetch("".concat(m,"/staffAttendance/update/").concat(e),{method:"POST",headers:{Authorization:"Bearer ".concat(J),Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){e.json().then((function(e){Q()}))}))};return(0,j.jsxs)(a.xH,{className:"mb-3 border-success",children:[(0,j.jsx)(a.bn,{style:{backgroundColor:"#0B5345",color:"white"},children:"Staff CheckIn"}),(0,j.jsxs)(a.sl,{children:[(0,j.jsxs)(a.rb,{children:[(0,j.jsx)(a.b7,{lg:4,children:(0,j.jsx)(a.xH,{children:(0,j.jsxs)(a.sl,{children:[(0,j.jsx)("label",{style:{color:"red"},children:E}),(0,j.jsxs)(a.rb,{children:[(0,j.jsx)(a.b7,{xs:5,children:(0,j.jsx)(l.Z,{icon:c.$,size:"8xl"})}),(0,j.jsx)(a.b7,{className:"mt-4",children:(0,j.jsx)(a.jO,{type:"text",label:"Attendance ID",placeholder:"Enter Attendance ID",value:y,onChange:function(e){return b(e.target.value)}})})]}),(0,j.jsx)(a.u5,{className:"mt-1 float-end",onClick:function(){G.filter((function(e){return e.AttendanceID.includes(y)})).length,G.filter((function(e){return e.AttendanceID.includes(y)})).length?G.filter((function(e){return e.AttendanceID.includes(y)})).map((function(e){return C(e.Fullname),b(e.AttendanceID),O(e.CenterID),o(1),w(e.status),T("")})):T("Not Found")},children:"Submit"})]})})}),n>=1&&(0,j.jsx)(a.b7,{lg:4,children:(0,j.jsx)(a.xH,{children:(0,j.jsxs)(a.sl,{children:[(0,j.jsxs)(a.rb,{children:[(0,j.jsx)(a.b7,{xs:5,children:(0,j.jsx)(l.Z,{icon:i._,size:"8xl"})}),(0,j.jsx)(a.b7,{className:"mt-3",children:(0,j.jsxs)(a.uS,{children:["Staff Name: ",v,(0,j.jsx)("br",{}),"Attendance ID: ",y,(0,j.jsx)("br",{}),"Center ID: ",I,(0,j.jsx)("br",{}),"Status: ",_?"Active":"Inactive",(0,j.jsx)("br",{})]})})]}),null==F&&(0,j.jsx)(a.u5,{className:"mt-1 float-end",onClick:function(){var e=(new Date).toLocaleTimeString(),t=new Date,n=t.getFullYear()+"/"+t.getMonth()+"/"+t.getDay();H(e);var r={username:M,StaffName:v,centerId:I,attentanceId:y,checkDate:n,checkIn:e};fetch("".concat(m,"/staffAttendance/create"),{method:"POST",headers:{Authorization:"Bearer ".concat(J),Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(r)}).then((function(e){e.json().then((function(){alert("successfully submitted"),o(2)}))}))},children:"Check In"})]})})}),2===n&&(0,j.jsx)(a.b7,{lg:4,children:(0,j.jsx)(a.xH,{children:(0,j.jsxs)(a.sl,{children:[(0,j.jsxs)(a.rb,{children:[(0,j.jsx)(a.b7,{xs:5,className:"mt-2",children:(0,j.jsx)(l.Z,{icon:s.V,size:"7xl"})}),(0,j.jsx)(a.b7,{className:"mt-3",children:(0,j.jsxs)(a.uS,{children:["Staff Name: ",v,(0,j.jsx)("br",{}),"Attendance ID: ",y,(0,j.jsx)("br",{}),"Attendance Time: ",F]})})]}),null!=F&&(0,j.jsx)(a.u5,{className:"mt-1 float-end",onClick:function(){return o(0)},children:"Done !"})]})})})]}),(0,j.jsxs)(a.Sx,{className:"mt-3",align:"middle",bordered:!0,style:{borderColor:"#0B5345"},hover:!0,responsive:!0,children:[(0,j.jsx)(a.V,{style:{backgroundColor:"#0B5345",color:"white"},children:(0,j.jsxs)(a.T6,{children:[(0,j.jsx)(a.is,{children:"Sr.No"}),(0,j.jsx)(a.is,{children:"Staff Name"}),(0,j.jsx)(a.is,{children:"Attendance ID"}),(0,j.jsx)(a.is,{children:"Center ID"}),(0,j.jsx)(a.is,{children:"Check Date"}),(0,j.jsx)(a.is,{children:"CheckIn Time"}),(0,j.jsx)(a.is,{children:"CheckOut Time"}),(0,j.jsx)(a.is,{children:"Action"}),(0,j.jsx)(a.is,{children:"Edit"})]})}),(0,j.jsx)(a.NR,{children:W.filter((function(e){return e.username===M})).map((function(e,t){return(0,j.jsxs)(a.T6,{children:[(0,j.jsx)(a.NN,{children:t+1}),(0,j.jsx)(a.NN,{children:e.ClientName}),(0,j.jsx)(a.NN,{children:e.attentanceId}),(0,j.jsx)(a.NN,{children:e.centerId}),(0,j.jsx)(a.NN,{children:x()(e.createdAt).format("LL")}),(0,j.jsx)(a.NN,{children:e.checkIn}),(0,j.jsx)(a.NN,{children:e.checkOut}),(0,j.jsx)(a.NN,{children:void 0===e.checkOut?(0,j.jsx)(a.u5,{color:"danger",onClick:function(){return U(e._id)},children:"Check Out"}):(0,j.jsx)(a.u5,{disabled:!0,color:"danger",onClick:function(){return U(e._id)},children:"Check Out"})}),(0,j.jsxs)(a.NN,{children:[(0,j.jsx)(h.zmo,{style:{cursor:"pointer",markerStart:"10px"},onClick:function(){return deleteEnquiry(e._id)},size:"20px"})," ",(0,j.jsx)(h.ZkW,{style:{cursor:"pointer",markerStart:"10px"},onClick:function(){return deleteEnquiry(e._id)},size:"20px"})," "]})]},t)}))})]})]})]})}},90710:function(e,t,n){n.d(t,{V:function(){return r}});var r=["512 512","<polygon fill='var(--ci-primary-color, currentColor)' points='77.155 272.034 351.75 272.034 351.75 272.033 351.75 240.034 351.75 240.033 77.155 240.033 152.208 164.98 152.208 164.98 152.208 164.979 129.58 142.353 15.899 256.033 15.9 256.034 15.899 256.034 129.58 369.715 152.208 347.088 152.208 347.087 152.208 347.087 77.155 272.034' class='ci-primary'/><polygon fill='var(--ci-primary-color, currentColor)' points='160 16 160 48 464 48 464 464 160 464 160 496 496 496 496 16 160 16' class='ci-primary'/>"]},79041:function(e,t,n){n.d(t,{_:function(){return r}});var r=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M426.072,86.928A238.75,238.75,0,0,0,88.428,424.572,238.75,238.75,0,0,0,426.072,86.928ZM257.25,462.5c-114,0-206.75-92.748-206.75-206.75S143.248,49,257.25,49,464,141.748,464,255.75,371.252,462.5,257.25,462.5Z' class='ci-primary'/><polygon fill='var(--ci-primary-color, currentColor)' points='221.27 305.808 147.857 232.396 125.23 255.023 221.27 351.063 388.77 183.564 366.142 160.937 221.27 305.808' class='ci-primary'/>"]},89983:function(e,t,n){n.d(t,{w_:function(){return o}});var r=n(72791),c={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},i=r.createContext&&r.createContext(c),s=function(){return s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var c in t=arguments[n])Object.prototype.hasOwnProperty.call(t,c)&&(e[c]=t[c]);return e},s.apply(this,arguments)},l=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var c=0;for(r=Object.getOwnPropertySymbols(e);c<r.length;c++)t.indexOf(r[c])<0&&Object.prototype.propertyIsEnumerable.call(e,r[c])&&(n[r[c]]=e[r[c]])}return n};function a(e){return e&&e.map((function(e,t){return r.createElement(e.tag,s({key:t},e.attr),a(e.child))}))}function o(e){return function(t){return r.createElement(u,s({attr:s({},e.attr)},t),a(e.child))}}function u(e){var t=function(t){var n,c=e.attr,i=e.size,a=e.title,o=l(e,["attr","size","title"]),u=i||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),r.createElement("svg",s({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,c,o,{className:n,style:s(s({color:e.color||t.color},t.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),a&&r.createElement("title",null,a),e.children)};return void 0!==i?r.createElement(i.Consumer,null,(function(e){return t(e)})):t(c)}}}]);
//# sourceMappingURL=4266.94863af9.chunk.js.map